<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Création d'exercice</title>
  <link rel="stylesheet" href="mixed.css">
  <link rel="stylesheet" href="exos.css">
  <script type="text/javascript" src="FileSaver.min.js"></script>
  <script type="text/javascript" src="interact.min.js"></script>
  <script type="text/javascript" src="jszip.min.js"></script>
  <script type="text/javascript" src="jscolor.min.js"></script>
  
  <script type="text/javascript" src="mixed.js"></script>
  <script type="text/javascript" src="evt.js"></script>
  
  <script type="text/javascript" src="add_css.js"></script>
  <script type="text/javascript" src="add_js.js"></script>
  <script type="text/javascript" src="add_autre.js"></script>
</head>

<body onload="start()">
  <div id="cr_panel1">
    <div id="cr_tab_div">
      <div class="cr_tab_btn" id="cr_tab_info" onclick="cr_tab_click(this)">Informations</div>
      <div class="cr_tab_btn" id="cr_tab_create" onclick="cr_tab_click(this)">Blocs</div>
    </div>
    <div class="cr_pa1" id="cr_pa_info">
      <p>
        Titre de l'exercice :
        <input type="text" id="cri_titre" onKeyUp="cri_titre_change(this)" value="Exercice"/>
        Couleur de fond :
        <input class="jscolor {hash:true}" type="text" id="cri_coul" value="#ffffff" onchange="cri_coul_change(this)" />
      </p>
      <table class="cri_table">
        <tr>
          <td>Consigne (html) :</th>
          <td><textarea id="cri_consigne" onKeyUp="cri_consigne_change(this)"></textarea></td>
        </tr>
      </table>
      </p>
      <p>
        Apréciations :
        <table class="cri_table">
          <tr>
            <th>score min</th>
            <th>couleur</th>
            <th>btn réessai</th>
            <th>texte (html)</th>
          </tr>
          <tr>
            <th><input type="number" id="1_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="1_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="1_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="1_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
          <tr>
            <th><input type="number" id="2_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="2_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="2_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="2_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
          <tr>
            <th><input type="number" id="3_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="3_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="3_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="3_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
          <tr>
            <th><input type="number" id="4_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="4_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="4_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="4_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
          <tr>
            <th><input type="number" id="5_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="5_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="5_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="5_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
          <tr>
            <th><input type="number" id="6_cri_a_min" value="0" min="0" onchange="cri_a_min_change(this)" title="score à partir duquel on affiche l'apréciation"/></th>
            <th>
              <select id="6_cri_a_coul" onChange="cri_a_coul_change(this)" title="couleur de l'apréciation et du drapeau">
                <option value="n">noir</option>
                <option value="r">rouge</option>
                <option value="j">jaune</option>
                <option value="b">bleu</option>
                <option value="v">vert</option>
                <option value="c">coupe</option>
              </select>
            </th>
            <th><input type="checkbox" id="6_cri_a_re" onChange="cri_a_re_change(this)" title="ajouter un bouton 'réessayer' sous l'apréciation"/></th>
            <th><textarea class="cri_a_txt" id="6_cri_a_txt" onChange="cri_a_txt_change(this)"></textarea></th>
          </tr>
        </table>
      </p>
      <p>
        Total des points (-1=auto) :
        <input type="number" id="cri_total" value="-1" min="-1" onchange="cri_total_change(this)" />
        arrondi <select id="cri_arrondi" onChange="cri_arrondi_change(this)"><option value="1" selected>unité</option><option value="0.5">0.5</option><option value="0.1">0.1</option><option value="0.01">0.01</option><option value="0">auncun</option></select>
        Nombre d'essais (0=infini) :
        <input type="number" id="cri_essais" value="1" min="0" onKeyUp="cri_essais_change(this)" />
      </p>
    </div>
    <div class="cr_pa1" id="cr_pa_create">
      <div id="cr_btn_div">
        <button onclick="radio_new()">radio</button>
        <button onclick="radiobtn_new()">radio boutons</button>
        <button onclick="check_new()">cases à cocher</button>
        <button onclick="combo_new()">liste déroulante</button>
        <button onclick="texte_new()">zone de texte</button>
        <button onclick="multi_new()">boutons multi-positions</button>
        <button onclick="image_new()">image</button>
      </div>
      <div id="cr_nom">
        élément sélectionné :
        <select id="cr_selection" onChange="cr_selection_change()">
        </select>
      </div>
      <div class="cr_opt_full">
        <div id="cr_expl">
          &nbsp;
        </div>
        <div id="cr_txt_ini_div">
          <input class="cr_long" type="text" id="cr_txt_ini" />
          <img id="cr_new_txt" src="go-next.svg" onclick="cr_new_txt_click(this)" />
        </div>
        <input type="file" id="cr_img_get" accept="image/*" onchange="cr_img_get_change(event)"/>
        
      </div>
      <div>
        <div class="cr_opt">
          <div>
            <div style="text-align: center;"><b>Options</b></div>
            <div class="cr_coul">Nombre de positions :
              <select id="cr_coul_nb" onChange="cr_coul_nb_change(this, 'true')"><option value="1">1</option><option value="2" selected>2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select>
            </div>
            <div class="cr_coul" id="cr_div_coul1">Couleur1
              <input class="jscolor {hash:true, onFineChange: 'cr_coul_change(this)'}" type="text" id="cr_coul1" value="#00ff00" />
            </div>
            <div class="cr_coul" id="cr_div_coul2">Couleur2
              <input class="jscolor {hash:true, onFineChange: 'cr_coul_change(this)'}" type="text" id="cr_coul2" value="#ff0000" />
            </div>
            <div class="cr_coul" id="cr_div_coul3">Couleur3
              <input class="jscolor {hash:true, onFineChange: 'cr_coul_change(this)'}" type="text" id="cr_coul3" value="#0000ff" />
            </div>
            <div class="cr_coul" id="cr_div_coul4">Couleur4
              <input class="jscolor {hash:true, onFineChange: 'cr_coul_change(this)'}" type="text" id="cr_coul4" value="#ffff00" />
            </div>
            <div class="cr_coul" id="cr_div_coul5">Couleur5
              <input class="jscolor {hash:true, onFineChange: 'cr_coul_change(this)'}" type="text" id="cr_coul5" value="#00ffff" />
            </div>
            <div id="cr_texte_div">
              Largeur (0=infini) :
              <input type="text" size="3" id="cr_texte_l" value="5" onchange="cr_texte_change(this)" title="nombre de charactères maxi" />
              <br/>Hauteur :
              <input type="text" size="3" id="cr_texte_h" value="1" onchange="cr_texte_change(this)" title="nombre de lignes" />
              <br/>Retour à la ligne :
              <select id="cr_texte_e" onchange="cr_texte_change(this)"><option value="1" selected>autorisé</option><option value="0">interdit</option></select>
              <br/>Comparaison :
              <select id="cr_texte_c" onchange="cr_texte_change(this)"><option value="0" selected>strict</option><option value="1">Sans Maj. au début</option><option value="2">Sans Maj.</option></select>
            </div>
          </div>
        </div>
        <div class="cr_opt">
        <div>
          <div class="cr_opt_ligne cr_font">
            Police :
            <select id="cr_font_fam" onchange="cr_font_fam_change(this)" title="nom de la police">
              <option value="serif">Serif</option>
              <option value="sans-serif">Sans Serif</option>
              <option value="monospace">Mono</option>
              <option value="handfont">handfont</option>
              <option value="staypuft">Staypuf</option>
              <option value="ABC cursive">ABCcursive</option>
            </select>
            <input id="cr_font_size" type="number" value="20" min="1" max="800" onchange="cr_font_size_change(this)" title="taille de la police (initial=20)"/>
            <button id="cr_font_coul" class="jscolor {valueElement:null,value:'000000', onFineChange: 'cr_font_coul_change(this)'}" title="couleur de la police"></button>
            <input type="checkbox" id="cr_font_g" onchange="cr_font_g_change(this)"/>
            <label for="cr_font_g" style="font-weight: bold;" title="gras">G</label>
            <input type="checkbox" id="cr_font_i" onchange="cr_font_i_change(this)"/>
            <label for="cr_font_i" style="font-style: italic;" title="italique">I</label>
            <input type="checkbox" id="cr_font_s" onchange="cr_font_s_change(this)"/>
            <label for="cr_font_s" style="text-decoration: underline;" title="souligné (exclu barré)">S</label>
            <input type="checkbox" id="cr_font_b" onchange="cr_font_b_change(this)"/>
            <label for="cr_font_b" style="text-decoration: line-through;" title="barré (exclu souligné)">B</label>
          </div>
          <div class="cr_opt_ligne">
            Taille :
            <input id="cr_tp_w" type="number" value="20" min="0" max="500" onchange="cr_tp_w_change(this)" title="largeur"/>
            x
            <input id="cr_tp_h" type="number" value="20" min="0" max="700" onchange="cr_tp_h_change(this)" title="hauteur"/>
            &nbsp;&nbsp;Position : <input id="cr_tp_l" type="number" value="20" min="0" max="500" onchange="cr_tp_l_change(this)" title="position horizontale"/>
            x
            <input id="cr_tp_t" type="number" value="20" min="0" max="700" onchange="cr_tp_t_change(this)" title="position verticale"/>
          </div>
          <div class="cr_opt_ligne">
            Bordure :
            <select id="cr_bord" onchange="cr_bord_change(this)" title="type de bordure">
              <option value="hidden">Aucune</option>
              <option value="solid">Normale</option>
              <option value="dashed">Tirets</option>
              <option value="dotted">Points</option>
              <option value="double">Double</option>
            </select>
            <input id="cr_bord_size" type="number" value="1" min="1" max="800" onchange="cr_bord_size_change(this)" title="épaisseur de la bordure"/>
            <button id="cr_bord_coul" class="jscolor {valueElement:null,value:'000000', onFineChange: 'cr_bord_coul_change(this)'}" title="couleur de la bordure"></button>
            &nbsp;&#42789;
            <input id="cr_bord_rond" type="number" value="0" min="0" max="500" onchange="cr_bord_rond_change(this)" title="arrondi de la bordure"/>
          </div>
          <div class="cr_opt_ligne">
            Fond :
            <button id="cr_fond_coul" class="jscolor {valueElement:null,value:'ffffff', onFineChange: 'cr_fond_coul_change(this)'}"  title="couleur de fond"></button>
            <input id="cr_fond_alpha" type="number" value="0" min="0" max="100" onchange="cr_fond_alpha_change(this)" title="opacité (100 = opaque)"/>%
            &nbsp;&nbsp;Marges :
            <input id="cr_marges" type="number" value="0" min="0" max="500" onchange="cr_marges_change(this)" title="marges intérieures"/>
          </div>
          <div class="cr_opt_ligne">
            Autre :
            <textarea id="cr_css" title="autres valeurs (syntaxe css)"></textarea>
          </div>
        </div>
        <div>
          <div class="cr_opt_ligne">
            Interaction :
            <div>
              <input type="radio" value="0" name="cr_inter" id="cr_inter_0" checked="true"/>
              <label for="cr_inter_0">Aucune</label>
              <br/>
              <input type="radio" value="1" name="cr_inter" id="cr_inter_1"/>
              <label for="cr_inter_1">Relier</label>
              <br/>
              <input type="radio" value="2" name="cr_inter" id="cr_inter_2"/>
              <label for="cr_inter_2">Déplacer</label>
            </div>
          </div>
        </div>
        <div>
          Code html :<br/>
          <textarea id="cr_html"></textarea>
        </div>
      </div>
      </div>
    </div>
  </div>
  <div id="cr_panel2">
    <div id="cr_rendu"></div>
    <br/><br/>
    <button id="cr_sauve" onClick="g_exporter();">Sauvegarder l'exercice</button>
    <button id="cr_sauve" onClick="g_reinit();">remettre à zéro</button>
  </div>
</body>
</html>
